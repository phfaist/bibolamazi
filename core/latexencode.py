# -*- coding: utf-8 -*-

import unicodedata;

from core.blogger import logger;


#
# CHARACTER MAP TAKEN FROM latexcodec 0.2, by Peter Troeger
#    https://pypi.python.org/pypi/latexcodec
#

# generated by genmapping.py
utf82latex={
34:"''", 	# character "
35:'\\#', 	# character #
36:'\\$', 	# character $
37:'\\%', 	# character %
38:'\\&', 	# character &
95:'\\_', 	# character _
123:'\\{', 	# character {
125:'\\}', 	# character }
160:'~', 	# character Â 
161:'\\textexclamdown', 	# character Â¡
162:'\\textcent', 	# character Â¢
163:'\\textsterling', 	# character Â£
164:'\\textcurrency', 	# character â‚¬
165:'\\textyen', 	# character Â¥
166:'\\textbrokenbar', 	# character Å 
167:'\\textsection', 	# character Â§
168:'\\textasciidieresis', 	# character Å¡
169:'\\textcopyright', 	# character Â©
170:'\\textordfeminine', 	# character Âª
171:'\\guillemotleft', 	# character Â«
172:'\\textlnot', 	# character Â¬
174:'\\textregistered', 	# character Â®
175:'\\textasciimacron', 	# character Â¯
176:'\\textdegree', 	# character Â°
177:'\\textpm', 	# character Â±
178:'\\texttwosuperior', 	# character Â²
179:'\\textthreesuperior', 	# character Â³
180:'\\textasciiacute', 	# character Å½
181:'\\textmu', 	# character Âµ
182:'\\textparagraph', 	# character Â¶
183:'\\textperiodcentered', 	# character Â·
185:'\\textonesuperior', 	# character Â¹
186:'\\textordmasculine', 	# character Âº
187:'\\guillemotright', 	# character Â»
188:'\\textonequarter', 	# character Å’
189:'\\textonehalf', 	# character Å“
190:'\\textthreequarters', 	# character Å¸
191:'\\textquestiondown', 	# character Â¿
192:'\\`A', 	# character Ã€
193:"\\'A", 	# character Ã
194:'\\^A', 	# character Ã‚
195:'\\~A', 	# character Ãƒ
196:'\\"A', 	# character Ã„
197:'\\r{A}', 	# character Ã…
198:'\\AE', 	# character Ã†
199:'\\c{C}', 	# character Ã‡
200:'\\`E', 	# character Ãˆ
201:"\\'E", 	# character Ã‰
202:'\\^E', 	# character ÃŠ
203:'\\"E', 	# character Ã‹
204:'\\`I', 	# character ÃŒ
205:"\\'I", 	# character Ã
206:'\\^I', 	# character Ã
207:'\\"I', 	# character Ã
208:'\\DH', 	# character Ã
209:'\\~N', 	# character Ã‘
210:'\\`O', 	# character Ã’
211:"\\'O", 	# character Ã“
212:'\\^O', 	# character Ã”
213:'\\~O', 	# character Ã•
214:'\\"O', 	# character Ã–
215:'\\texttimes', 	# character Ã—
216:'\\O', 	# character Ã˜
217:'\\`U', 	# character Ã™
218:"\\'U", 	# character Ãš
219:'\\^U', 	# character Ã›
220:'\\"U', 	# character Ãœ
221:"\\'Y", 	# character Ã
222:'\\TH', 	# character Ã
223:'\\ss', 	# character ÃŸ
224:'\\`a', 	# character Ã 
225:"\\'a", 	# character Ã¡
226:'\\^a', 	# character Ã¢
227:'\\~a', 	# character Ã£
228:'\\"a', 	# character Ã¤
229:'\\r{a}', 	# character Ã¥
230:'\\ae', 	# character Ã¦
231:'\\c{c}', 	# character Ã§
232:'\\`e', 	# character Ã¨
233:"\\'e", 	# character Ã©
234:'\\^e', 	# character Ãª
235:'\\"e', 	# character Ã«
236:'\\`\\i', 	# character Ã¬
237:"\\'\\i", 	# character Ã­
238:'\\^\\i', 	# character Ã®
239:'\\"\\i', 	# character Ã¯
240:'\\dh', 	# character Ã°
241:'\\~n', 	# character Ã±
242:'\\`o', 	# character Ã²
243:"\\'o", 	# character Ã³
244:'\\^o', 	# character Ã´
245:'\\~o', 	# character Ãµ
246:'\\"o', 	# character Ã¶
247:'\\textdiv', 	# character Ã·
248:'\\o', 	# character Ã¸
249:'\\`u', 	# character Ã¹
250:"\\'u", 	# character Ãº
251:'\\^u', 	# character Ã»
252:'\\"u', 	# character Ã¼
253:"\\'y", 	# character Ã½
254:'\\th', 	# character Ã¾
255:'\\"y', 	# character Ã¿
256:'\\={A}', 	# character -DÃ€-A
257:'\\={a}', 	# character -DÃ -A
258:'\\u{A}', 	# character -BÃƒ-A
259:'\\u{a}', 	# character -BÃ£-A
260:'\\k{A}', 	# character -BÂ¡-A
261:'\\k{a}', 	# character -BÂ±-A
262:"\\'C", 	# character -BÃ†-A
263:"\\'c", 	# character -BÃ¦-A
264:'\\^{C}', 	# character -CÃ†-A
265:'\\^{c}', 	# character -CÃ¦-A
266:'\\.{C}', 	# character -CÃ…-A
267:'\\.{c}', 	# character -CÃ¥-A
268:'\\v{C}', 	# character -BÃˆ-A
269:'\\v{c}', 	# character -BÃ¨-A
270:'\\v{D}', 	# character -BÃ-A
271:'\\v{d}', 	# character -BÃ¯-A
272:'\\DJ', 	# character -BÃ-A
273:'\\dj', 	# character -BÃ°-A
274:'\\={E}', 	# character -DÂª-A
275:'\\={e}', 	# character -DÂº-A
276:'\\u{E}', 	# character ?
277:'\\u{e}', 	# character ?
278:'\\.{E}', 	# character -DÃŒ-A
279:'\\.{e}', 	# character -DÃ¬-A
280:'\\k{E}', 	# character -BÃŠ-A
281:'\\k{e}', 	# character -BÃª-A
282:'\\v{E}', 	# character -BÃŒ-A
283:'\\v{e}', 	# character -BÃ¬-A
284:'\\^{G}', 	# character -CÃ˜-A
285:'\\^{g}', 	# character -CÃ¸-A
286:'\\u{G}', 	# character -CÂ«-A
287:'\\u{g}', 	# character -CÂ»-A
288:'\\.{G}', 	# character -CÃ•-A
289:'\\.{g}', 	# character -CÃµ-A
290:'\\c{G}', 	# character -DÂ«-A
291:'\\c{g}', 	# character -DÂ»-A
292:'\\^{H}', 	# character -CÅ -A
293:'\\^{h}', 	# character -CÂ¶-A
294:'\\={H}', 	# character -CÂ¡-A
295:'\\={h}', 	# character -CÂ±-A
296:'\\~{I}', 	# character -DÂ¥-A
297:'\\~{i}', 	# character -DÂµ-A
298:'\\={I}', 	# character -DÃ-A
299:'\\={i}', 	# character -DÃ¯-A
300:'\\u{I}', 	# character ?
301:'\\u{i}', 	# character ?
302:'\\k{I}', 	# character -DÃ‡-A
303:'\\k{i}', 	# character -DÃ§-A
304:'\\.I', 	# character -CÂ©-A
305:'\\i', 	# character -CÂ¹-A
306:'\\IJ', 	# character $(D)&(B
307:'\\ij', 	# character $(D)F(B
308:'\\^{J}', 	# character -CÂ¬-A
309:'\\^{j}', 	# character -CÅ’-A
310:'\\c{K}', 	# character -DÃ“-A
311:'\\c{k}', 	# character -DÃ³-A
312:'\\textsc\{k\}', 	# character -DÂ¢ LATIN SMALL LETTER KRA, didn't find a good latex replacement.-A
313:"\\'L", 	# character -BÃ…-A
314:"\\'l", 	# character -BÃ¥-A
315:'\\c{L}', 	# character -DÅ -A
316:'\\c{l}', 	# character -DÂ¶-A
317:'\\v{L}', 	# character -BÂ¥-A
318:'\\v{l}', 	# character -BÂµ-A
319:'\\.{L}', 	# character $(D))(B
320:'\\.{l}', 	# character $(D)I(B
321:'\\L', 	# character -BÂ£-A
322:'\\l', 	# character -BÂ³-A
323:"\\'N", 	# character -BÃ‘-A
324:"\\'n", 	# character -BÃ±-A
325:'\\c{N}', 	# character -DÃ‘-A
326:'\\c{n}', 	# character -DÃ±-A
327:'\\v{N}', 	# character -BÃ’-A
328:'\\v{n}', 	# character -BÃ²-A
329:'\\nument{149}', 	# character $(D)J(B
330:'\\NG', 	# character -DÅ“-A
331:'\\ng', 	# character -DÂ¿-A
332:'\\={O}', 	# character -DÃ’-A
333:'\\={o}', 	# character -DÃ²-A
334:'\\u{O}', 	# character ?
335:'\\u{o}', 	# character ?
336:"\\'{O}", 	# character -BÃ•-A
337:"\\'{o}", 	# character -BÃµ-A
338:'\\OE', 	# character -bÅ’-A
339:'\\oe', 	# character -bÅ“-A
340:"\\'R", 	# character -BÃ€-A
341:"\\'r", 	# character -BÃ -A
342:'\\c{R}', 	# character -DÂ£-A
343:'\\c{r}', 	# character -DÂ³-A
344:'\\v{R}', 	# character -BÃ˜-A
345:'\\v{r}', 	# character -BÃ¸-A
346:"\\'S", 	# character -BÅ -A
347:"\\'s", 	# character -BÂ¶-A
348:'\\^{S}', 	# character -CÃ-A
349:'\\^{s}', 	# character -CÃ¾-A
350:'\\c{S}', 	# character -BÂª-A
351:'\\c{s}', 	# character -BÂº-A
352:'\\v{S}', 	# character -BÂ©-A
353:'\\v{s}', 	# character -BÂ¹-A
354:'\\c{T}', 	# character -BÃ-A
355:'\\c{t}', 	# character -BÃ¾-A
356:'\\v{T}', 	# character -BÂ«-A
357:'\\v{t}', 	# character -BÂ»-A
358:'\\={T}', 	# character -DÂ¬-A
359:'\\={t}', 	# character -DÅ’-A
360:'\\~{U}', 	# character -DÃ-A
361:'\\~{u}', 	# character -DÃ½-A
362:'\\={U}', 	# character -DÃ-A
363:'\\={u}', 	# character -DÃ¾-A
364:'\\u{U}', 	# character -CÃ-A
365:'\\u{u}', 	# character -CÃ½-A
366:'\\r{U}', 	# character -BÃ™-A
367:'\\r{u}', 	# character -BÃ¹-A
368:"\\'{U}", 	# character -BÃ›-A
369:"\\'{u}", 	# character -BÃ»-A
370:'\\k{U}', 	# character -DÃ™-A
371:'\\k{u}', 	# character -DÃ¹-A
372:'\\^{W}', 	# character -_Ã-A
373:'\\^{w}', 	# character -_Ã°-A
374:'\\^{Y}', 	# character -_Ã-A
375:'\\^{y}', 	# character -_Ã¾-A
376:'\\"Y', 	# character -_Â¯-A
377:"\\'Z", 	# character -BÂ¬-A
378:"\\'z", 	# character -BÅ’-A
379:'\\.Z', 	# character -BÂ¯-A
380:'\\.z', 	# character -BÂ¿-A
381:'\\v{Z}', 	# character -BÂ®-A
382:'\\v{z}', 	# character -BÅ¸-A
402:'\\textflorin', 	# character ?
710:'\\textasciicircum', 	# character ?
711:'\\textasciicaron', 	# character -BÂ·-A
728:'\\textasciibreve', 	# character -BÂ¢-A
732:'\\textasciitilde', 	# character ?
733:'\\textacutedbl', 	# character -BÅ“-A
1024:'\\`\\CYRE', 	# character ?
1025:'\\CYRYO', 	# character -LÂ¡-A
1026:'\\CYRDJE', 	# character -LÂ¢-A
1027:'\\`\\CYRG', 	# character -LÂ£-A
1028:'\\CYRIE', 	# character -Lâ‚¬-A
1029:'\\CYRDZE', 	# character -LÂ¥-A
1030:'\\CYRII', 	# character -LÅ -A
1031:'\\CYRYI', 	# character -LÂ§-A
1032:'\\CYRJE', 	# character -LÅ¡-A
1033:'\\CYRLJE', 	# character -LÂ©-A
1034:'\\CYRNJE', 	# character -LÂª-A
1035:'\\CYRTSHE', 	# character -LÂ«-A
1036:'\\`\\CYRK', 	# character -LÂ¬-A
1037:'\\`\\CYRI', 	# character ?
1038:'\\CYRUSHRT', 	# character -LÂ®-A
1039:'\\CYRDZHE', 	# character -LÂ¯-A
1040:'\\CYRA', 	# character -LÂ°-A
1041:'\\CYRB', 	# character -LÂ±-A
1042:'\\CYRV', 	# character -LÂ²-A
1043:'\\CYRG', 	# character -LÂ³-A
1044:'\\CYRD', 	# character -LÅ½-A
1045:'\\CYRE', 	# character -LÂµ-A
1046:'\\CYRZH', 	# character -LÂ¶-A
1047:'\\CYRZ', 	# character -LÂ·-A
1048:'\\CYRI', 	# character -LÅ¾-A
1049:'\\CYRISHRT', 	# character -LÂ¹-A
1050:'\\CYRK', 	# character -LÂº-A
1051:'\\CYRL', 	# character -LÂ»-A
1052:'\\CYRM', 	# character -LÅ’-A
1053:'\\CYRN', 	# character -LÅ“-A
1054:'\\CYRO', 	# character -LÅ¸-A
1055:'\\CYRP', 	# character -LÂ¿-A
1056:'\\CYRR', 	# character -LÃ€-A
1057:'\\CYRS', 	# character -LÃ-A
1058:'\\CYRT', 	# character -LÃ‚-A
1059:'\\CYRU', 	# character -LÃƒ-A
1060:'\\CYRF', 	# character -LÃ„-A
1061:'\\CYRH', 	# character -LÃ…-A
1062:'\\CYRC', 	# character -LÃ†-A
1063:'\\CYRCH', 	# character -LÃ‡-A
1064:'\\CYRSH', 	# character -LÃˆ-A
1065:'\\CYRSHCH', 	# character -LÃ‰-A
1066:'\\CYRHRDSN', 	# character -LÃŠ-A
1067:'\\CYRERY', 	# character -LÃ‹-A
1068:'\\CYRSFTSN', 	# character -LÃŒ-A
1069:'\\CYREREV', 	# character -LÃ-A
1070:'\\CYRYU', 	# character -LÃ-A
1071:'\\CYRYA', 	# character -LÃ-A
1072:'\\cyra', 	# character -LÃ-A
1073:'\\cyrb', 	# character -LÃ‘-A
1074:'\\cyrv', 	# character -LÃ’-A
1075:'\\cyrg', 	# character -LÃ“-A
1076:'\\cyrd', 	# character -LÃ”-A
1077:'\\cyre', 	# character -LÃ•-A
1078:'\\cyrzh', 	# character -LÃ–-A
1079:'\\cyrz', 	# character -LÃ—-A
1080:'\\cyri', 	# character -LÃ˜-A
1081:'\\cyrishrt', 	# character -LÃ™-A
1082:'\\cyrk', 	# character -LÃš-A
1083:'\\cyrl', 	# character -LÃ›-A
1084:'\\cyrm', 	# character -LÃœ-A
1085:'\\cyrn', 	# character -LÃ-A
1086:'\\cyro', 	# character -LÃ-A
1087:'\\cyrp', 	# character -LÃŸ-A
1088:'\\cyrr', 	# character -LÃ -A
1089:'\\cyrs', 	# character -LÃ¡-A
1090:'\\cyrt', 	# character -LÃ¢-A
1091:'\\cyru', 	# character -LÃ£-A
1092:'\\cyrf', 	# character -LÃ¤-A
1093:'\\cyrh', 	# character -LÃ¥-A
1094:'\\cyrc', 	# character -LÃ¦-A
1095:'\\cyrch', 	# character -LÃ§-A
1096:'\\cyrsh', 	# character -LÃ¨-A
1097:'\\cyrshch', 	# character -LÃ©-A
1098:'\\cyrhrdsn', 	# character -LÃª-A
1099:'\\cyrery', 	# character -LÃ«-A
1100:'\\cyrsftsn', 	# character -LÃ¬-A
1101:'\\cyrerev', 	# character -LÃ­-A
1102:'\\cyryu', 	# character -LÃ®-A
1103:'\\cyrya', 	# character -LÃ¯-A
1104:'\\`\\cyre', 	# character ?
1105:'\\cyryo', 	# character -LÃ±-A
1106:'\\cyrdje', 	# character -LÃ²-A
1107:'\\`\\cyrg', 	# character -LÃ³-A
1108:'\\cyrie', 	# character -LÃ´-A
1109:'\\cyrdze', 	# character -LÃµ-A
1110:'\\cyrii', 	# character -LÃ¶-A
1111:'\\cyryi', 	# character -LÃ·-A
1112:'\\cyrje', 	# character -LÃ¸-A
1113:'\\cyrlje', 	# character -LÃ¹-A
1114:'\\cyrnje', 	# character -LÃº-A
1115:'\\cyrtshe', 	# character -LÃ»-A
1116:'\\`\\cyrk', 	# character -LÃ¼-A
1117:'\\`\\cyri', 	# character ?
1118:'\\cyrushrt', 	# character -LÃ¾-A
1119:'\\cyrdzhe', 	# character -LÃ¿-A
1122:'\\CYRYAT', 	# character ?
1123:'\\cyryat', 	# character ?
1130:'\\CYRBYUS', 	# character ?
1131:'\\cyrbyus', 	# character ?
1138:'\\CYRFITA', 	# character ?
1139:'\\cyrfita', 	# character ?
1140:'\\CYRIZH', 	# character ?
1141:'\\cyrizh', 	# character ?
1142:'\\C\\CYRIZH', 	# character ?
1143:'\\C\\cyrizh', 	# character ?
1164:'\\CYRSEMISFTSN', 	# character ?
1165:'\\cyrsemisftsn', 	# character ?
1166:'\\CYRRTICK', 	# character ?
1167:'\\cyrrtick', 	# character ?
1168:'\\CYRGUP', 	# character ?
1169:'\\cyrgup', 	# character ?
1170:'\\CYRGHCRS', 	# character ?
1171:'\\cyrghcrs', 	# character ?
1172:'\\CYRGHK', 	# character ?
1173:'\\cyrghk', 	# character ?
1174:'\\CYRZHDSC', 	# character ?
1175:'\\cyrzhdsc', 	# character ?
1176:'\\CYRZDSC', 	# character ?
1177:'\\cyrzdsc', 	# character ?
1178:'\\CYRKDSC', 	# character ?
1179:'\\cyrkdsc', 	# character ?
1180:'\\CYRKVCRS', 	# character ?
1181:'\\cyrkvcrs', 	# character ?
1182:'\\CYRKHCRS', 	# character ?
1183:'\\cyrkhcrs', 	# character ?
1184:'\\CYRKBEAK', 	# character ?
1185:'\\cyrkbeak', 	# character ?
1186:'\\CYRNDSC', 	# character ?
1187:'\\cyrndsc', 	# character ?
1188:'\\CYRNG', 	# character ?
1189:'\\cyrng', 	# character ?
1190:'\\CYRPHK', 	# character ?
1191:'\\cyrphk', 	# character ?
1192:'\\CYRABHHA', 	# character ?
1193:'\\cyrabhha', 	# character ?
1194:'\\CYRSDSC', 	# character ?
1195:'\\cyrsdsc', 	# character ?
1196:'\\CYRTDSC', 	# character ?
1197:'\\cyrtdsc', 	# character ?
1198:'\\CYRY', 	# character ?
1199:'\\cyry', 	# character ?
1200:'\\CYRYHCRS', 	# character ?
1201:'\\cyryhcrs', 	# character ?
1202:'\\CYRHDSC', 	# character ?
1203:'\\cyrhdsc', 	# character ?
1204:'\\CYRTETSE', 	# character ?
1205:'\\cyrtetse', 	# character ?
1206:'\\CYRCHRDSC', 	# character ?
1207:'\\cyrchrdsc', 	# character ?
1208:'\\CYRCHVCRS', 	# character ?
1209:'\\cyrchvcrs', 	# character ?
1210:'\\CYRSHHA', 	# character ?
1211:'\\cyrshha', 	# character ?
1212:'\\CYRABHCH', 	# character ?
1213:'\\cyrabhch', 	# character ?
1214:'\\CYRABHCHDSC', 	# character ?
1215:'\\cyrabhchdsc', 	# character ?
1216:'\\CYRpalochka', 	# character ?
1217:'\\U\\CYRZH', 	# character ?
1218:'\\U\\cyrzh', 	# character ?
1219:'\\CYRKHK', 	# character ?
1220:'\\cyrkhk', 	# character ?
1221:'\\CYRLDSC', 	# character ?
1222:'\\cyrldsc', 	# character ?
1223:'\\CYRNHK', 	# character ?
1224:'\\cyrnhk', 	# character ?
1227:'\\CYRCHLDSC', 	# character ?
1228:'\\cyrchldsc', 	# character ?
1229:'\\CYRMDSC', 	# character ?
1230:'\\cyrmdsc', 	# character ?
1232:'\\U\\CYRA', 	# character ?
1233:'\\U\\cyra', 	# character ?
1234:'\\"\\CYRA', 	# character ?
1235:'\\"\\cyra', 	# character ?
1236:'\\CYRAE', 	# character ?
1237:'\\cyrae', 	# character ?
1238:'\\U\\CYRE', 	# character ?
1239:'\\U\\cyre', 	# character ?
1240:'\\CYRSCHWA', 	# character ?
1241:'\\cyrschwa', 	# character ?
1242:'\\"\\CYRSCHWA', 	# character ?
1243:'\\"\\cyrschwa', 	# character ?
1244:'\\"\\CYRZH', 	# character ?
1245:'\\"\\cyrzh', 	# character ?
1246:'\\"\\CYRZ', 	# character ?
1247:'\\"\\cyrz', 	# character ?
1248:'\\CYRABHDZE', 	# character ?
1249:'\\cyrabhdze', 	# character ?
1250:'\\=\\CYRI', 	# character ?
1251:'\\=\\cyri', 	# character ?
1252:'\\"\\CYRI', 	# character ?
1253:'\\"\\cyri', 	# character ?
1254:'\\"\\CYRO', 	# character ?
1255:'\\"\\cyro', 	# character ?
1256:'\\CYROTLD', 	# character ?
1257:'\\cyrotld', 	# character ?
1260:'\\"\\CYREREV', 	# character ?
1261:'\\"\\cyrerev', 	# character ?
1262:'\\=\\CYRU', 	# character ?
1263:'\\=\\cyru', 	# character ?
1264:'\\"\\CYRU', 	# character ?
1265:'\\"\\cyru', 	# character ?
1266:'\\H\\CYRU', 	# character ?
1267:'\\H\\cyru', 	# character ?
1268:'\\"\\CYRCH', 	# character ?
1269:'\\"\\cyrch', 	# character ?
1270:'\\CYRGDSC', 	# character ?
1271:'\\cyrgdsc', 	# character ?
1272:'\\"\\CYRERY', 	# character ?
1273:'\\"\\cyrery', 	# character ?
1274:'\\CYRGDSCHCRS', 	# character ?
1275:'\\cyrgdschcrs', 	# character ?
1276:'\\CYRHHK', 	# character ?
1277:'\\cyrhhk', 	# character ?
1278:'\\CYRHHCRS', 	# character ?
1279:'\\cyrhhcrs', 	# character ?
3647:'\\textbaht', 	# character -TÃŸ-A
8204:'\\textcompwordmark', 	# character ?
8211:'\\textendash', 	# character $(G!9(B
8212:'\\textemdash', 	# character $(G!7(B
8214:'\\textbardbl', 	# character $B!B(B
8216:'\\textquoteleft', 	# character -FÂ¡-A
8217:'\\textquoteright', 	# character -FÂ¢-A
8218:'\\quotesinglbase', 	# character ?
8220:'\\textquotedblleft', 	# character -YÅ½-A
8221:'\\textquotedblright', 	# character -YÂ¡-A
8222:'\\quotedblbase', 	# character -YÂ¥-A
8224:'\\textdagger', 	# character $B"w(B
8225:'\\textdaggerdbl', 	# character $B"x(B
8226:'\\textbullet', 	# character $(0!&(B
8230:'\\textellipsis', 	# character $B!D(B
8240:'\\textperthousand', 	# character $B"s(B
8241:'\\textpertenthousand', 	# character ?
8249:'\\guilsinglleft', 	# character ?
8250:'\\guilsinglright', 	# character ?
8251:'\\textreferencemark', 	# character $B"((B
8253:'\\textinterrobang', 	# character ?
8260:'\\textfractionsolidus', 	# character $(G"_(B
8270:'\\textasteriskcentered', 	# character ?
8274:'\\textdiscount', 	# character ?
8353:'\\textcolonmonetary', 	# character ?
8356:'\\textlira', 	# character ?
8358:'\\textnaira', 	# character ?
8361:'\\textwon', 	# character ?
8363:'\\textdong', 	# character ?
8364:'\\texteuro', 	# character -bâ‚¬-A
8369:'\\textpeso', 	# character ?
8451:'\\textcelsius', 	# character $B!n(B
8470:'\\textnumero', 	# character -LÃ°-A
8471:'\\textcircledP', 	# character ?
8478:'\\textrecipe', 	# character ?
8480:'\\textservicemark', 	# character ?
8482:'\\texttrademark', 	# character $(D"o(B
8486:'\\textohm', 	# character -FÃ™-A
8487:'\\textmho', 	# character ?
8494:'\\textestimated', 	# character ?
8592:'\\textleftarrow', 	# character $B"+(B
8593:'\\textuparrow', 	# character $B",(B
8594:'\\textrightarrow', 	# character $B"*(B
8595:'\\textdownarrow', 	# character $B"-(B
9001:'\\textlangle', 	# character $B!R(B
9002:'\\textrangle', 	# character $B!S(B
9250:'\\textblank', 	# character ?
9251:'\\textvisiblespace', 	# character ?
9702:'\\textopenbullet', 	# character ?
9711:'\\textbigcircle', 	# character $B"~(B
9834:'\\textmusicalnote'	# character $B"v(B
}



def utf8tolatex(s, non_ascii_only=False, brackets=True, substitute_bad_chars=False):
    s = unicode(s); # make sure s is unicode
    s = unicodedata.normalize('NFC', s);

    if not s:
        return ""

    result = u""
    for ch in s:
        if (non_ascii_only and ord(ch) < 127):
            result += ch
        else:
            lch = utf82latex.get(ord(ch), None)
            if (lch is not None):
                # add brackets if needed, i.e. if we have a substituting macro.
                result += (  '{'+lch+'}' if brackets and lch[0] == '\\' else
                             lch  )
            else:
                logger.warning("Character cannot be encoded into LaTeX: %s" % (repr(ch)))
                if (substitute_bad_chars):
                    result += r'{\bfseries ?}'
                else:
                    # keep unescaped char
                    result += ch

    return result
    
    
